{"version":3,"sources":["pages lazy /^/.//.*$/ groupOptions: {} namespace object","reportWebVitals.js","App.jsx","reducers/noteReducer.js","reducers/userReducer.js","store/index.js","index.jsx","services/http.js","layout/mainLayout/index.jsx","components/Loading/index.jsx","pages/main/index.jsx","services/notes.js","services/login.js","actions/userAction.js"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","all","slice","t","keys","Object","module","exports","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","App","dispatch","useDispatch","history","useHistory","user","useSelector","state","useEffect","console","log","loggedNoteappUser","replace","message","warn","_user","JSON","parse","userUpdateAction","noteServer","setToken","token","from","to","exact","path","component","Main","lazyComponent","initialState","noteReducer","action","type","data","userReducer","reducer","combineReducers","notes","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById","storageUser","localStorage","getItem","http","axios","create","interceptors","request","use","config","NProgress","start","headers","Authorization","error","reject","response","done","Header","Layout","Sider","Content","MainLayout","children","pathname","location","useState","currentKey","setCurrentKey","_currentKey","startsWith","style","overflow","height","position","left","className","theme","mode","selectedKeys","onClick","event","key","rooters","item","hide","Item","icon","UserOutlined","title","marginLeft","overlay","userLogoutAction","push","trigger","backgroundColor","margin","padding","minHeight","Loading","Loadable","loader","loading","redirect","isRedirect","baseUrl","getNotes","a","get","res","createNote","note","post","updateNote","put","defaults","setItem","stringify","login","username","password","userLoginAction","loginMessageKey","content","loginServer","success","warning"],"mappings":"0HAAA,IAAIA,EAAM,CACT,YAAa,CACZ,GACA,EACA,GAED,aAAc,CACb,GACA,EACA,GAED,kBAAmB,CAClB,GACA,EACA,GAED,sBAAuB,CACtB,GACA,EACA,GAED,aAAc,CACb,GACA,EACA,GAED,cAAe,CACd,GACA,EACA,GAED,mBAAoB,CACnB,GACA,EACA,GAED,uBAAwB,CACvB,GACA,EACA,GAED,SAAU,CACT,GACA,EACA,GAED,UAAW,CACV,GACA,EACA,GAED,eAAgB,CACf,GACA,EACA,GAED,mBAAoB,CACnB,GACA,EACA,GAED,UAAW,CACV,GACA,EACA,EACA,EACA,EACA,GAED,WAAY,CACX,GACA,EACA,EACA,EACA,EACA,GAED,oBAAqB,CACpB,IACA,EACA,EACA,EACA,EACA,IAED,wBAAyB,CACxB,IACA,EACA,EACA,EACA,EACA,IAED,gBAAiB,CAChB,GACA,EACA,EACA,EACA,EACA,GAED,oBAAqB,CACpB,GACA,EACA,EACA,EACA,EACA,GAED,SAAU,CACT,GACA,GAED,UAAW,CACV,GACA,GAED,eAAgB,CACf,GACA,GAED,mBAAoB,CACnB,GACA,GAED,SAAU,CACT,GACA,EACA,GAED,UAAW,CACV,GACA,EACA,GAED,eAAgB,CACf,GACA,EACA,GAED,mBAAoB,CACnB,GACA,EACA,GAED,UAAW,CACV,GACA,EACA,EACA,EACA,EACA,GAED,WAAY,CACX,GACA,EACA,EACA,EACA,EACA,GAED,mBAAoB,CACnB,IACA,EACA,EACA,IAED,uBAAwB,CACvB,IACA,EACA,EACA,IAED,gBAAiB,CAChB,GACA,EACA,EACA,EACA,EACA,GAED,oBAAqB,CACpB,IACA,EACA,IAED,oBAAqB,CACpB,GACA,EACA,EACA,EACA,EACA,GAED,UAAW,CACV,GACA,EACA,IAED,WAAY,CACX,GACA,EACA,IAED,gBAAiB,CAChB,GACA,EACA,IAED,oBAAqB,CACpB,GACA,EACA,KAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAOG,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","file":"static/js/main.8cdbbbc1.chunk.js","sourcesContent":["var map = {\n\t\"./counter\": [\n\t\t89,\n\t\t9,\n\t\t6\n\t],\n\t\"./counter/\": [\n\t\t89,\n\t\t9,\n\t\t6\n\t],\n\t\"./counter/index\": [\n\t\t89,\n\t\t9,\n\t\t6\n\t],\n\t\"./counter/index.jsx\": [\n\t\t89,\n\t\t9,\n\t\t6\n\t],\n\t\"./counter2\": [\n\t\t90,\n\t\t9,\n\t\t7\n\t],\n\t\"./counter2/\": [\n\t\t90,\n\t\t9,\n\t\t7\n\t],\n\t\"./counter2/index\": [\n\t\t90,\n\t\t9,\n\t\t7\n\t],\n\t\"./counter2/index.jsx\": [\n\t\t90,\n\t\t9,\n\t\t7\n\t],\n\t\"./home\": [\n\t\t91,\n\t\t9,\n\t\t8\n\t],\n\t\"./home/\": [\n\t\t91,\n\t\t9,\n\t\t8\n\t],\n\t\"./home/index\": [\n\t\t91,\n\t\t9,\n\t\t8\n\t],\n\t\"./home/index.jsx\": [\n\t\t91,\n\t\t9,\n\t\t8\n\t],\n\t\"./login\": [\n\t\t94,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t5\n\t],\n\t\"./login/\": [\n\t\t94,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t5\n\t],\n\t\"./login/LoginForm\": [\n\t\t146,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t12\n\t],\n\t\"./login/LoginForm.jsx\": [\n\t\t146,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t12\n\t],\n\t\"./login/index\": [\n\t\t94,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t5\n\t],\n\t\"./login/index.jsx\": [\n\t\t94,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t5\n\t],\n\t\"./main\": [\n\t\t41,\n\t\t9\n\t],\n\t\"./main/\": [\n\t\t41,\n\t\t9\n\t],\n\t\"./main/index\": [\n\t\t41,\n\t\t9\n\t],\n\t\"./main/index.jsx\": [\n\t\t41,\n\t\t9\n\t],\n\t\"./note\": [\n\t\t92,\n\t\t9,\n\t\t9\n\t],\n\t\"./note/\": [\n\t\t92,\n\t\t9,\n\t\t9\n\t],\n\t\"./note/index\": [\n\t\t92,\n\t\t9,\n\t\t9\n\t],\n\t\"./note/index.jsx\": [\n\t\t92,\n\t\t9,\n\t\t9\n\t],\n\t\"./notes\": [\n\t\t95,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t3,\n\t\t4\n\t],\n\t\"./notes/\": [\n\t\t95,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t3,\n\t\t4\n\t],\n\t\"./notes/NoteForm\": [\n\t\t147,\n\t\t9,\n\t\t0,\n\t\t11\n\t],\n\t\"./notes/NoteForm.jsx\": [\n\t\t147,\n\t\t9,\n\t\t0,\n\t\t11\n\t],\n\t\"./notes/index\": [\n\t\t95,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t3,\n\t\t4\n\t],\n\t\"./notes/index.css\": [\n\t\t189,\n\t\t7,\n\t\t16\n\t],\n\t\"./notes/index.jsx\": [\n\t\t95,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t3,\n\t\t4\n\t],\n\t\"./users\": [\n\t\t93,\n\t\t9,\n\t\t10\n\t],\n\t\"./users/\": [\n\t\t93,\n\t\t9,\n\t\t10\n\t],\n\t\"./users/index\": [\n\t\t93,\n\t\t9,\n\t\t10\n\t],\n\t\"./users/index.jsx\": [\n\t\t93,\n\t\t9,\n\t\t10\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(2).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__.t(id, ids[1])\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 184;\nmodule.exports = webpackAsyncContext;","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { useEffect } from 'react';\nimport { Switch, Redirect, Route, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { message } from 'antd';\nimport { userUpdateAction } from '@/actions/userAction';\nimport noteServer from '@/services/notes';\nimport { lazyComponent } from '@/pages/main';\nimport Main from '@/pages/main';\nimport './App.css';\n\nfunction App() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { user } = useSelector((state) => state);\n\n  useEffect(() => {\n    console.log(loggedNoteappUser, history, 'loggedNoteappUser');\n    if (loggedNoteappUser) {\n      const _user = JSON.parse(loggedNoteappUser);\n      dispatch(userUpdateAction(_user));\n      noteServer.setToken(_user.token);\n    } else {\n      history.replace('/login');\n      message.warn('登录信息失效， 请重重登录');\n      return;\n    }\n  }, []);\n\n  return (\n    <Switch>\n      <Redirect from=\"/\" to={user ? '/main/' : '/login'} exact={true} />\n      <Route path={'/main'} component={Main} />\n      <Route path={'/login'} exact={true} component={lazyComponent('login')} />\n    </Switch>\n  );\n}\n\nexport default App;\n","const initialState = [];\n\nconst noteReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'INIT_NOTE':\n            return action.data;\n        case 'NEW_NOTE':\n            return [...state, action.data];\n        case 'TOGGLE_IMPORTANCE':\n            return action.data;\n        default:\n            return state;\n    }\n};\n\nexport default noteReducer;","const initialState = null;\n\nconst userReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'LOGIN':\n            return action.data;\n        case 'LOGOUT':\n            return null;\n        case 'UPDATE':\n            return action.data;\n        default:\n            return state;\n    }\n};\n\nexport default userReducer;","import { combineReducers, createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport noteReducer from '../reducers/noteReducer';\nimport userReducer from '../reducers/userReducer';\n\n\nconst reducer = combineReducers({\n    notes: noteReducer,\n    user: userReducer\n});\n\nconst store = createStore(\n    reducer,\n    composeWithDevTools(\n        applyMiddleware(thunk)\n    )\n);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\nimport App from './App';\nimport store from './store';\nimport './index.css';\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter>\n    <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import axios from 'axios';\nimport NProgress from 'nprogress';\nconst storageUser = JSON.parse(localStorage.getItem('loggedNoteappUser') || '{}');\nconst http = axios.create({});\n\nhttp.interceptors.request.use((config) => {\n    NProgress.start();\n    if (storageUser && storageUser.token) {\n        config.headers = {\n            ...config.headers,\n            Authorization: `bearer ${storageUser.token}`,\n        };\n    }\n    return config;\n}, (error) => {\n    return Promise.reject(error);\n});\n\nhttp.interceptors.response.use((response) => {\n    NProgress.done();\n    return response;\n}, (error) => {\n    NProgress.done();\n    return Promise.reject(error);\n});\n\nexport default http;","import React, { useState, useEffect } from 'react';\nimport { Button, Layout, Menu, Dropdown, Avatar } from 'antd';\nimport { UserOutlined } from '@ant-design/icons';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport noteServer from '../../services/notes';\nimport { rooters } from '../../pages/main';\nimport { userLogoutAction } from '../../actions/userAction';\nimport './index.css';\n\nconst { Header, Sider, Content } = Layout;\n\nconst MainLayout = ({ children }) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const  {\n    location: { pathname },\n  } = history;\n  const [currentKey, setCurrentKey] = useState('');\n\n  const handleLogout = () => {\n    noteServer.setToken(null);\n    dispatch(userLogoutAction());\n    history.push('/login');\n  };\n\n  useEffect(() => {\n    let _currentKey = pathname;\n    if (pathname.startsWith('/main/note')) {\n      _currentKey = '/main/notes';\n    } else if (pathname === '/main/') {\n      _currentKey = '/main/home';\n    }\n    setCurrentKey(_currentKey);\n  }, []);\n\n  return (\n    <Layout id=\"components-layout-demo-custom-trigger\">\n      <Sider\n        style={{\n          overflow: 'auto',\n          height: '100vh',\n          position: 'fixed',\n          left: 0,\n        }}\n      >\n        <div className=\"logo\" />\n        <Menu\n          theme=\"dark\"\n          mode=\"inline\"\n          selectedKeys={[currentKey]}\n          onClick={(event) => setCurrentKey(event.key)}\n        >\n          {rooters.map((item) => {\n            return (\n              !item.hide && (\n                <Menu.Item key={item.path} icon={<UserOutlined />}>\n                  <Link to={item.path}>{item.title}</Link>\n                </Menu.Item>\n              )\n            );\n          })}\n        </Menu>\n      </Sider>\n      <Layout className=\"site-layout\" style={{ marginLeft: 200 }}>\n        <Header className=\"site-layout-header\">\n          <Dropdown\n            overlay={\n              <Menu>\n                <Menu.Item key=\"0\">\n                  <Button type='link'>关于我</Button>\n                </Menu.Item>\n\n                <Menu.Item key=\"1\">\n                <Button type='link' onClick={handleLogout}>退出</Button>\n                </Menu.Item>\n              </Menu>\n            }\n            trigger={['click']}\n          >\n            <Avatar\n              style={{ backgroundColor: '#87d068' }}\n              icon={<UserOutlined />}\n            />\n          </Dropdown>\n        </Header>\n        <Content\n          className=\"site-layout-content\"\n          style={{\n            margin: '24px 16px',\n            padding: 24,\n            minHeight: 280,\n          }}\n        >\n          {children}\n        </Content>\n      </Layout>\n    </Layout>\n  );\n};\n\nexport default MainLayout;\n","import React from 'react';\nimport { Spin } from 'antd';\n\nfunction Loading() {\n  return <Spin />;\n}\n\nexport default Loading;\n","import React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport Loadable from 'react-loadable';\nimport MainLayout from '../../layout/mainLayout';\nimport Loading from '../../components/Loading';\n\nexport const lazyComponent = (path) => {\n  return Loadable({\n    loader: () => import(`@/pages/${path}`),\n    loading: Loading,\n  });\n};\n\nexport const rooters = [\n  {\n    path: '/main/home',\n    title: '首页',\n    exact: true,\n    component: lazyComponent('home'),\n  },\n  {\n    path: '/main/counter',\n    title: '计数页',\n    exact: true,\n    component: lazyComponent('counter'),\n  },\n  {\n    path: '/main/counter2',\n    title: '计数页2',\n    exact: true,\n    component: lazyComponent('counter2'),\n  },\n  {\n    path: '/main/note/:id',\n    title: '笔记详情',\n    exact: true,\n    hide: true,\n    component: lazyComponent('note'),\n  },\n  {\n    path: '/main/notes',\n    title: '笔记列表',\n    component: lazyComponent('notes'),\n  },\n  {\n    path: '/main/users',\n    title: '用户',\n    component: lazyComponent('users'),\n  },\n  {\n    path: '/main/login',\n    title: '登录',\n    exact: true,\n    hide: true,\n    component: lazyComponent('login'),\n  },\n  {\n    path: '/main/',\n    redirect: '/main/home',\n    isRedirect: true,\n    exact: true,\n    hide: true,\n  },\n];\n\nfunction Main() {\n  return (\n    <MainLayout>\n      <Switch>\n        {rooters.map((item) => {\n          if (item.isRedirect) {\n            return <Redirect key={item.path} to={item.redirect} exact />;\n          }\n          return (\n            <Route\n              key={item.path}\n              exact={item.exact}\n              path={item.path}\n              component={item.component}\n            />\n          );\n        })}\n      </Switch>\n    </MainLayout>\n  );\n}\n\nexport default Main;\n","import http from './http';\n\nconst baseUrl = '/api/notes';\n\nconst setToken = (user = null) => {\n  if (user) {\n    http.defaults.headers = {\n      ...http.defaults.headers,\n      Authorization: `bearer ${user.token}`,\n    };\n    localStorage.setItem('loggedNoteappUser', JSON.stringify(user));\n  } else {\n    http.defaults.headers = {\n      ...http.defaults.headers,\n      Authorization: '',\n    };\n    localStorage.setItem('loggedNoteappUser', '');\n  }\n};\n\nconst getNotes = async () => await http.get(baseUrl).then((res) => res.data);\n\nconst createNote = async (note) => {\n  return await http.post(baseUrl, note).then((res) => res.data);\n};\n\nconst updateNote = async (id, note) => {\n  return await http.put(`${baseUrl}/${id}`, note).then((res) => res.data);\n};\n\nexport default {\n  getNotes,\n  createNote,\n  updateNote,\n  setToken,\n};\n","import http from './http';\n\nconst baseUrl = '/api/login';\n\nconst login = async (username, password) => await http.post(baseUrl, {\n  username,\n  password,\n}).then((res) => res.data);\n\nexport default {\n  login,\n};\n","import { message } from 'antd';\nimport loginServer from '../services/login';\nimport noteServer from '../services/notes';\nexport const userUpdateAction = (user) => {\n    return {\n        type: 'UPDATE',\n        data: user\n    };\n};\n\nexport const userLogoutAction = () => {\n    return {\n        type: 'LOGOUT'\n    };\n};\n\nexport const userLoginAction = ({ username, password }) => {\n    return async dispatch => {\n        const loginMessageKey = 'loginMessageKey';\n        message.loading({ content: '登陆中...', key: loginMessageKey });\n        try {\n            const _user = await loginServer.login(username, password);\n            message.success({ content: '登录成功', key: loginMessageKey });\n            noteServer.setToken(_user);\n            dispatch({\n                type: 'LOGIN',\n                data: _user\n            });\n        } catch (error) {\n            console.log(error, error.response, 'error---');\n            message.warning({ content: `登录失败: ${error.response.data.error}`, key: loginMessageKey });\n        }\n    };\n};"],"sourceRoot":""}